(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{251:function(e,t,a){"use strict";a.r(t);var r=a(28),s=Object(r.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("p",[a("a",{attrs:{name:"1md"}})]),e._v(" "),a("h1",{attrs:{id:"entourage-cli"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#entourage-cli"}},[e._v("#")]),e._v(" entourage-cli")]),e._v(" "),a("blockquote",[a("p",[e._v("Client for entourage")])]),e._v(" "),a("p",[e._v("See repository page "),a("a",{attrs:{href:"https://github.com/chriskalmar/entourage",target:"_blank",rel:"noopener noreferrer"}},[e._v("chriskalmar/entourage"),a("OutboundLink")],1),e._v(" for more information.")]),e._v(" "),a("h2",{attrs:{id:"install"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#install"}},[e._v("#")]),e._v(" Install")]),e._v(" "),a("p",[e._v("Using npm:")]),e._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" entourage-cli\n")])])]),a("p",[e._v("or using yarn:")]),e._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("yarn")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("add")]),e._v(" entourage-cli\n")])])]),a("h2",{attrs:{id:"example-use-with-a-ci-pipeline"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#example-use-with-a-ci-pipeline"}},[e._v("#")]),e._v(" Example use with a CI pipeline")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# initialize profile with the name 'demo'")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# using the project's '.entourage.js' file as config")]),e._v("\nentourage-cli init demo\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# using custom '.entourage.js' file as config")]),e._v("\nentourage-cli init demo --file test/.entourage.js\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# meanwhile perform regular CI tasks")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# like linting, building and so on")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# check if profile is ready for up to 180 seconds before failing")]),e._v("\nentourage-cli "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("wait")]),e._v(" demo "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("180")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# collect generated ports and export them as environment variables")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# e.g.")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# PORT_httpbin_80=37820")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# PORT_hello_80=47762")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$(")]),e._v("entourage-cli "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("env")]),e._v(" demo"),a("span",{pre:!0,attrs:{class:"token variable"}},[e._v(")")])]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# use new environment variable to configure your project")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# and run integration tests")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# clean up entourage server to free up resources")]),e._v("\nentourage-cli destroy demo\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# continue with further CI tasks")]),e._v("\n\n")])])]),a("p",[a("a",{attrs:{name:"2md"}})]),e._v(" "),a("h2",{attrs:{id:"modules"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#modules"}},[e._v("#")]),e._v(" Modules")]),e._v(" "),a("dl",[a("dt",[a("a",{attrs:{href:"#module_Command"}},[e._v("Command")])]),e._v(" "),a("dd"),e._v(" "),a("dt",[a("a",{attrs:{href:"#module_Request"}},[e._v("Request")])]),e._v(" "),a("dd"),e._v(" "),a("dt",[a("a",{attrs:{href:"#module_Subscribe"}},[e._v("Subscribe")])]),e._v(" "),a("dd")]),e._v(" "),a("p",[a("a",{attrs:{name:"module_Command"}})]),e._v(" "),a("h2",{attrs:{id:"command"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#command"}},[e._v("#")]),e._v(" Command")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#module_Command"}},[e._v("Command")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#module_Command..readConfig"}},[e._v("~readConfig(configPath)")]),e._v(" ⇒ "),a("code",[e._v("objet")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#module_Command..checkConfig"}},[e._v("~checkConfig(config)")]),e._v(" ⇒ "),a("code",[e._v("boolean")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#module_Command..init"}},[e._v("~init(argv)")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#module_Command..wait"}},[e._v("~wait(argv)")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#module_Command..destroy"}},[e._v("~destroy(argv)")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#module_Command..env"}},[e._v("~env(argv)")])])])])]),e._v(" "),a("p",[a("a",{attrs:{name:"module_Command..readConfig"}})]),e._v(" "),a("h3",{attrs:{id:"command-readconfig-configpath-⇒-objet"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#command-readconfig-configpath-⇒-objet"}},[e._v("#")]),e._v(" Command~readConfig(configPath) ⇒ "),a("code",[e._v("objet")])]),e._v(" "),a("p",[e._v("Read config file (JS | JSON)")]),e._v(" "),a("p",[a("strong",[e._v("Kind")]),e._v(": inner method of "),a("a",{attrs:{href:"#module_Command"}},[a("code",[e._v("Command")])]),a("br"),e._v(" "),a("strong",[e._v("Returns")]),e._v(": "),a("code",[e._v("objet")]),e._v(" - config"),a("br"),e._v(" "),a("strong",[e._v("Throws")]),e._v(":")]),e._v(" "),a("ul",[a("li",[e._v("Config file X not found")])]),e._v(" "),a("table",[a("thead",[a("tr",[a("th",[e._v("Param")]),e._v(" "),a("th",[e._v("Type")])])]),e._v(" "),a("tbody",[a("tr",[a("td",[e._v("configPath")]),e._v(" "),a("td",[a("code",[e._v("string")])])])])]),e._v(" "),a("p",[a("a",{attrs:{name:"module_Command..checkConfig"}})]),e._v(" "),a("h3",{attrs:{id:"command-checkconfig-config-⇒-boolean"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#command-checkconfig-config-⇒-boolean"}},[e._v("#")]),e._v(" Command~checkConfig(config) ⇒ "),a("code",[e._v("boolean")])]),e._v(" "),a("p",[e._v("Check config content")]),e._v(" "),a("p",[e._v("Validate url, profile and timeout presence")]),e._v(" "),a("p",[a("strong",[e._v("Kind")]),e._v(": inner method of "),a("a",{attrs:{href:"#module_Command"}},[a("code",[e._v("Command")])]),a("br"),e._v(" "),a("strong",[e._v("Throws")]),e._v(":")]),e._v(" "),a("ul",[a("li",[e._v("Invalid config")])]),e._v(" "),a("table",[a("thead",[a("tr",[a("th",[e._v("Param")]),e._v(" "),a("th",[e._v("Type")])])]),e._v(" "),a("tbody",[a("tr",[a("td",[e._v("config")]),e._v(" "),a("td",[a("code",[e._v("object")])])])])]),e._v(" "),a("p",[a("a",{attrs:{name:"module_Command..init"}})]),e._v(" "),a("h3",{attrs:{id:"command-init-argv"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#command-init-argv"}},[e._v("#")]),e._v(" Command~init(argv)")]),e._v(" "),a("p",[e._v("Init command")]),e._v(" "),a("p",[e._v("Trigger initProfile mutation on entourage-server")]),e._v(" "),a("p",[a("strong",[e._v("Kind")]),e._v(": inner method of "),a("a",{attrs:{href:"#module_Command"}},[a("code",[e._v("Command")])])]),e._v(" "),a("table",[a("thead",[a("tr",[a("th",[e._v("Param")]),e._v(" "),a("th",[e._v("Type")])])]),e._v(" "),a("tbody",[a("tr",[a("td",[e._v("argv")]),e._v(" "),a("td",[a("code",[e._v("object")])])])])]),e._v(" "),a("p",[a("a",{attrs:{name:"module_Command..wait"}})]),e._v(" "),a("h3",{attrs:{id:"command-wait-argv"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#command-wait-argv"}},[e._v("#")]),e._v(" Command~wait(argv)")]),e._v(" "),a("p",[e._v("Wait command")]),e._v(" "),a("p",[e._v("Trigger profileCreated subscription on entourage-server")]),e._v(" "),a("p",[a("strong",[e._v("Kind")]),e._v(": inner method of "),a("a",{attrs:{href:"#module_Command"}},[a("code",[e._v("Command")])])]),e._v(" "),a("table",[a("thead",[a("tr",[a("th",[e._v("Param")]),e._v(" "),a("th",[e._v("Type")])])]),e._v(" "),a("tbody",[a("tr",[a("td",[e._v("argv")]),e._v(" "),a("td",[a("code",[e._v("object")])])])])]),e._v(" "),a("p",[a("a",{attrs:{name:"module_Command..destroy"}})]),e._v(" "),a("h3",{attrs:{id:"command-destroy-argv"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#command-destroy-argv"}},[e._v("#")]),e._v(" Command~destroy(argv)")]),e._v(" "),a("p",[e._v("Destroy command")]),e._v(" "),a("p",[e._v("Trigger destroyProfile mutation on entourage-server")]),e._v(" "),a("p",[a("strong",[e._v("Kind")]),e._v(": inner method of "),a("a",{attrs:{href:"#module_Command"}},[a("code",[e._v("Command")])])]),e._v(" "),a("table",[a("thead",[a("tr",[a("th",[e._v("Param")]),e._v(" "),a("th",[e._v("Type")])])]),e._v(" "),a("tbody",[a("tr",[a("td",[e._v("argv")]),e._v(" "),a("td",[a("code",[e._v("object")])])])])]),e._v(" "),a("p",[a("a",{attrs:{name:"module_Command..env"}})]),e._v(" "),a("h3",{attrs:{id:"command-env-argv"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#command-env-argv"}},[e._v("#")]),e._v(" Command~env(argv)")]),e._v(" "),a("p",[e._v("Env command")]),e._v(" "),a("p",[e._v("Trigger getProfileStats query on entourage-server")]),e._v(" "),a("p",[a("strong",[e._v("Kind")]),e._v(": inner method of "),a("a",{attrs:{href:"#module_Command"}},[a("code",[e._v("Command")])])]),e._v(" "),a("table",[a("thead",[a("tr",[a("th",[e._v("Param")]),e._v(" "),a("th",[e._v("Type")])])]),e._v(" "),a("tbody",[a("tr",[a("td",[e._v("argv")]),e._v(" "),a("td",[a("code",[e._v("object")])])])])]),e._v(" "),a("p",[a("a",{attrs:{name:"module_Request"}})]),e._v(" "),a("h2",{attrs:{id:"request"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#request"}},[e._v("#")]),e._v(" Request")]),e._v(" "),a("p",[a("a",{attrs:{name:"module_Request..request"}})]),e._v(" "),a("h3",{attrs:{id:"request-request-req-⇒-object"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#request-request-req-⇒-object"}},[e._v("#")]),e._v(" Request~request(req) ⇒ "),a("code",[e._v("object")])]),e._v(" "),a("p",[e._v("Create a request")]),e._v(" "),a("p",[a("strong",[e._v("Kind")]),e._v(": inner method of "),a("a",{attrs:{href:"#module_Request"}},[a("code",[e._v("Request")])]),a("br"),e._v(" "),a("strong",[e._v("Returns")]),e._v(": "),a("code",[e._v("object")]),e._v(" - response")]),e._v(" "),a("table",[a("thead",[a("tr",[a("th",[e._v("Param")]),e._v(" "),a("th",[e._v("Type")])])]),e._v(" "),a("tbody",[a("tr",[a("td",[e._v("req")]),e._v(" "),a("td",[a("code",[e._v("object")])])])])]),e._v(" "),a("p",[a("strong",[e._v("Properties")])]),e._v(" "),a("table",[a("thead",[a("tr",[a("th",[e._v("Name")]),e._v(" "),a("th",[e._v("Type")])])]),e._v(" "),a("tbody",[a("tr",[a("td",[e._v("req.config")]),e._v(" "),a("td",[a("code",[e._v("object")])])]),e._v(" "),a("tr",[a("td",[e._v("req.query")]),e._v(" "),a("td",[a("code",[e._v("string")])])]),e._v(" "),a("tr",[a("td",[e._v("req.variables")]),e._v(" "),a("td",[a("code",[e._v("object")])])])])]),e._v(" "),a("p",[a("a",{attrs:{name:"module_Subscribe"}})]),e._v(" "),a("h2",{attrs:{id:"subscribe"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#subscribe"}},[e._v("#")]),e._v(" Subscribe")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#module_Subscribe"}},[e._v("Subscribe")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#module_Subscribe..eventBus"}},[e._v("~eventBus")]),e._v(" : "),a("code",[e._v("EventEmitter")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#module_Subscribe..subscribe"}},[e._v("~subscribe(sub)")]),e._v(" ⇒ "),a("code",[e._v("MQTTClient")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#module_Subscribe..EventEmitter"}},[e._v("~EventEmitter")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#module_Subscribe..MQTTClient"}},[e._v("~MQTTClient")])])])])]),e._v(" "),a("p",[a("a",{attrs:{name:"module_Subscribe..eventBus"}})]),e._v(" "),a("h3",{attrs:{id:"subscribe-eventbus-eventemitter"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#subscribe-eventbus-eventemitter"}},[e._v("#")]),e._v(" Subscribe~eventBus : "),a("code",[e._v("EventEmitter")])]),e._v(" "),a("p",[a("strong",[e._v("Kind")]),e._v(": inner constant of "),a("a",{attrs:{href:"#module_Subscribe"}},[a("code",[e._v("Subscribe")])]),a("br"),e._v(" "),a("a",{attrs:{name:"module_Subscribe..subscribe"}})]),e._v(" "),a("h3",{attrs:{id:"subscribe-subscribe-sub-⇒-mqttclient"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#subscribe-subscribe-sub-⇒-mqttclient"}},[e._v("#")]),e._v(" Subscribe~subscribe(sub) ⇒ "),a("code",[e._v("MQTTClient")])]),e._v(" "),a("p",[e._v("Create a subscription")]),e._v(" "),a("p",[e._v("Send an event back onMessage")]),e._v(" "),a("p",[a("strong",[e._v("Kind")]),e._v(": inner method of "),a("a",{attrs:{href:"#module_Subscribe"}},[a("code",[e._v("Subscribe")])]),a("br"),e._v(" "),a("strong",[e._v("Emits")]),e._v(": "),a("code",[e._v("event:eventName")])]),e._v(" "),a("table",[a("thead",[a("tr",[a("th",[e._v("Param")]),e._v(" "),a("th",[e._v("Type")])])]),e._v(" "),a("tbody",[a("tr",[a("td",[e._v("sub")]),e._v(" "),a("td",[a("code",[e._v("object")])])])])]),e._v(" "),a("p",[a("strong",[e._v("Properties")])]),e._v(" "),a("table",[a("thead",[a("tr",[a("th",[e._v("Name")]),e._v(" "),a("th",[e._v("Type")])])]),e._v(" "),a("tbody",[a("tr",[a("td",[e._v("sub.config")]),e._v(" "),a("td",[a("code",[e._v("object")])])]),e._v(" "),a("tr",[a("td",[e._v("sub.eventName")]),e._v(" "),a("td",[a("code",[e._v("string")])])])])]),e._v(" "),a("p",[a("a",{attrs:{name:"module_Subscribe..EventEmitter"}})]),e._v(" "),a("h3",{attrs:{id:"subscribe-eventemitter"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#subscribe-eventemitter"}},[e._v("#")]),e._v(" Subscribe~EventEmitter")]),e._v(" "),a("p",[a("strong",[e._v("Kind")]),e._v(": inner typedef of "),a("a",{attrs:{href:"#module_Subscribe"}},[a("code",[e._v("Subscribe")])]),a("br"),e._v(" "),a("a",{attrs:{name:"module_Subscribe..MQTTClient"}})]),e._v(" "),a("h3",{attrs:{id:"subscribe-mqttclient"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#subscribe-mqttclient"}},[e._v("#")]),e._v(" Subscribe~MQTTClient")]),e._v(" "),a("p",[a("strong",[e._v("Kind")]),e._v(": inner typedef of "),a("a",{attrs:{href:"#module_Subscribe"}},[a("code",[e._v("Subscribe")])])]),e._v(" "),a("p",[a("a",{attrs:{name:"readmemd"}})])])}),[],!1,null,null,null);t.default=s.exports}}]);