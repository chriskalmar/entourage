<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Entourage</title>
    <meta name="description" content="">
    <meta name="generator" content="VuePress 1.4.0">
    
    
    <link rel="preload" href="/entourage/assets/css/0.styles.070be6d0.css" as="style"><link rel="preload" href="/entourage/assets/js/app.460d8489.js" as="script"><link rel="preload" href="/entourage/assets/js/2.a00bb63a.js" as="script"><link rel="preload" href="/entourage/assets/js/6.8129d006.js" as="script"><link rel="prefetch" href="/entourage/assets/js/3.7a41b788.js"><link rel="prefetch" href="/entourage/assets/js/4.5f60d4ea.js"><link rel="prefetch" href="/entourage/assets/js/5.153b7d28.js"><link rel="prefetch" href="/entourage/assets/js/7.13fde6a2.js"><link rel="prefetch" href="/entourage/assets/js/8.db8de4f1.js"><link rel="prefetch" href="/entourage/assets/js/9.f7a5189e.js">
    <link rel="stylesheet" href="/entourage/assets/css/0.styles.070be6d0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/entourage/" class="home-link router-link-active"><img src="/entourage/entourage-logo.png" alt="Entourage" class="logo"> <span class="site-name can-hide">Entourage</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/entourage/readme/" class="nav-link">
  Readme
</a></div><div class="nav-item"><a href="/entourage/server/" class="nav-link">
  Server
</a></div><div class="nav-item"><a href="/entourage/cli/" class="nav-link router-link-exact-active router-link-active">
  CLI
</a></div> <a href="https://github.com/chriskalmar/entourage" target="_blank" rel="noopener noreferrer" class="repo-link">
    Git
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/entourage/readme/" class="nav-link">
  Readme
</a></div><div class="nav-item"><a href="/entourage/server/" class="nav-link">
  Server
</a></div><div class="nav-item"><a href="/entourage/cli/" class="nav-link router-link-exact-active router-link-active">
  CLI
</a></div> <a href="https://github.com/chriskalmar/entourage" target="_blank" rel="noopener noreferrer" class="repo-link">
    Git
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/entourage/readme/" class="sidebar-link">Readme</a></li><li><a href="/entourage/server/" class="sidebar-link">Server</a></li><li><a href="/entourage/cli/" class="active sidebar-link">CLI</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/entourage/cli/#install" class="sidebar-link">Install</a></li><li class="sidebar-sub-header"><a href="/entourage/cli/#example-use-with-a-ci-pipeline" class="sidebar-link">Example use with a CI pipeline</a></li><li class="sidebar-sub-header"><a href="/entourage/cli/#modules" class="sidebar-link">Modules</a></li><li class="sidebar-sub-header"><a href="/entourage/cli/#command" class="sidebar-link">Command</a></li><li class="sidebar-sub-header"><a href="/entourage/cli/#request" class="sidebar-link">Request</a></li><li class="sidebar-sub-header"><a href="/entourage/cli/#subscribe" class="sidebar-link">Subscribe</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p><a name="1md"></a></p> <h1 id="entourage-cli"><a href="#entourage-cli" class="header-anchor">#</a> entourage-cli</h1> <blockquote><p>Client for entourage</p></blockquote> <p>See repository page <a href="https://github.com/chriskalmar/entourage" target="_blank" rel="noopener noreferrer">chriskalmar/entourage<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for more information.</p> <h2 id="install"><a href="#install" class="header-anchor">#</a> Install</h2> <p>Using npm:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">npm</span> <span class="token function">install</span> entourage-cli
</code></pre></div><p>or using yarn:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">yarn</span> <span class="token function">add</span> entourage-cli
</code></pre></div><h2 id="example-use-with-a-ci-pipeline"><a href="#example-use-with-a-ci-pipeline" class="header-anchor">#</a> Example use with a CI pipeline</h2> <div class="language-bash extra-class"><pre class="language-bash"><code>
<span class="token comment"># initialize profile with the name 'demo'</span>
<span class="token comment"># using the project's '.entourage.js' file as config</span>
entourage-cli init demo

<span class="token comment"># using custom '.entourage.js' file as config</span>
entourage-cli init demo --file test/.entourage.js

<span class="token comment"># meanwhile perform regular CI tasks</span>
<span class="token comment"># like linting, building and so on</span>

<span class="token comment"># check if profile is ready for up to 180 seconds before failing</span>
entourage-cli <span class="token function">wait</span> demo <span class="token number">180</span>

<span class="token comment"># collect generated ports and export them as environment variables</span>
<span class="token comment"># e.g.</span>
<span class="token comment"># PORT_httpbin_80=37820</span>
<span class="token comment"># PORT_hello_80=47762</span>
<span class="token variable"><span class="token variable">$(</span>entourage-cli <span class="token function">env</span> demo<span class="token variable">)</span></span>

<span class="token comment"># use new environment variable to configure your project</span>
<span class="token comment"># and run integration tests</span>

<span class="token comment"># clean up entourage server to free up resources</span>
entourage-cli destroy demo

<span class="token comment"># continue with further CI tasks</span>

</code></pre></div><p><a name="2md"></a></p> <h2 id="modules"><a href="#modules" class="header-anchor">#</a> Modules</h2> <dl><dt><a href="#module_Command">Command</a></dt> <dd></dd> <dt><a href="#module_Request">Request</a></dt> <dd></dd> <dt><a href="#module_Subscribe">Subscribe</a></dt> <dd></dd></dl> <p><a name="module_Command"></a></p> <h2 id="command"><a href="#command" class="header-anchor">#</a> Command</h2> <ul><li><a href="#module_Command">Command</a> <ul><li><a href="#module_Command..readConfig">~readConfig(configPath)</a> ⇒ <code>objet</code></li> <li><a href="#module_Command..checkConfig">~checkConfig(config)</a> ⇒ <code>boolean</code></li> <li><a href="#module_Command..init">~init(argv)</a></li> <li><a href="#module_Command..wait">~wait(argv)</a></li> <li><a href="#module_Command..destroy">~destroy(argv)</a></li> <li><a href="#module_Command..env">~env(argv)</a></li></ul></li></ul> <p><a name="module_Command..readConfig"></a></p> <h3 id="command-readconfig-configpath-⇒-objet"><a href="#command-readconfig-configpath-⇒-objet" class="header-anchor">#</a> Command~readConfig(configPath) ⇒ <code>objet</code></h3> <p>Read config file (JS | JSON)</p> <p><strong>Kind</strong>: inner method of <a href="#module_Command"><code>Command</code></a><br> <strong>Returns</strong>: <code>objet</code> - config<br> <strong>Throws</strong>:</p> <ul><li>Config file X not found</li></ul> <table><thead><tr><th>Param</th> <th>Type</th></tr></thead> <tbody><tr><td>configPath</td> <td><code>string</code></td></tr></tbody></table> <p><a name="module_Command..checkConfig"></a></p> <h3 id="command-checkconfig-config-⇒-boolean"><a href="#command-checkconfig-config-⇒-boolean" class="header-anchor">#</a> Command~checkConfig(config) ⇒ <code>boolean</code></h3> <p>Check config content</p> <p>Validate url, profile and timeout presence</p> <p><strong>Kind</strong>: inner method of <a href="#module_Command"><code>Command</code></a><br> <strong>Throws</strong>:</p> <ul><li>Invalid config</li></ul> <table><thead><tr><th>Param</th> <th>Type</th></tr></thead> <tbody><tr><td>config</td> <td><code>object</code></td></tr></tbody></table> <p><a name="module_Command..init"></a></p> <h3 id="command-init-argv"><a href="#command-init-argv" class="header-anchor">#</a> Command~init(argv)</h3> <p>Init command</p> <p>Trigger initProfile mutation on entourage-server</p> <p><strong>Kind</strong>: inner method of <a href="#module_Command"><code>Command</code></a></p> <table><thead><tr><th>Param</th> <th>Type</th></tr></thead> <tbody><tr><td>argv</td> <td><code>object</code></td></tr></tbody></table> <p><a name="module_Command..wait"></a></p> <h3 id="command-wait-argv"><a href="#command-wait-argv" class="header-anchor">#</a> Command~wait(argv)</h3> <p>Wait command</p> <p>Trigger profileCreated subscription on entourage-server</p> <p><strong>Kind</strong>: inner method of <a href="#module_Command"><code>Command</code></a></p> <table><thead><tr><th>Param</th> <th>Type</th></tr></thead> <tbody><tr><td>argv</td> <td><code>object</code></td></tr></tbody></table> <p><a name="module_Command..destroy"></a></p> <h3 id="command-destroy-argv"><a href="#command-destroy-argv" class="header-anchor">#</a> Command~destroy(argv)</h3> <p>Destroy command</p> <p>Trigger destroyProfile mutation on entourage-server</p> <p><strong>Kind</strong>: inner method of <a href="#module_Command"><code>Command</code></a></p> <table><thead><tr><th>Param</th> <th>Type</th></tr></thead> <tbody><tr><td>argv</td> <td><code>object</code></td></tr></tbody></table> <p><a name="module_Command..env"></a></p> <h3 id="command-env-argv"><a href="#command-env-argv" class="header-anchor">#</a> Command~env(argv)</h3> <p>Env command</p> <p>Trigger getProfileStats query on entourage-server</p> <p><strong>Kind</strong>: inner method of <a href="#module_Command"><code>Command</code></a></p> <table><thead><tr><th>Param</th> <th>Type</th></tr></thead> <tbody><tr><td>argv</td> <td><code>object</code></td></tr></tbody></table> <p><a name="module_Request"></a></p> <h2 id="request"><a href="#request" class="header-anchor">#</a> Request</h2> <p><a name="module_Request..request"></a></p> <h3 id="request-request-req-⇒-object"><a href="#request-request-req-⇒-object" class="header-anchor">#</a> Request~request(req) ⇒ <code>object</code></h3> <p>Create a request</p> <p><strong>Kind</strong>: inner method of <a href="#module_Request"><code>Request</code></a><br> <strong>Returns</strong>: <code>object</code> - response</p> <table><thead><tr><th>Param</th> <th>Type</th></tr></thead> <tbody><tr><td>req</td> <td><code>object</code></td></tr></tbody></table> <p><strong>Properties</strong></p> <table><thead><tr><th>Name</th> <th>Type</th></tr></thead> <tbody><tr><td>req.config</td> <td><code>object</code></td></tr> <tr><td>req.query</td> <td><code>string</code></td></tr> <tr><td>req.variables</td> <td><code>object</code></td></tr></tbody></table> <p><a name="module_Subscribe"></a></p> <h2 id="subscribe"><a href="#subscribe" class="header-anchor">#</a> Subscribe</h2> <ul><li><a href="#module_Subscribe">Subscribe</a> <ul><li><a href="#module_Subscribe..eventBus">~eventBus</a> : <code>EventEmitter</code></li> <li><a href="#module_Subscribe..subscribe">~subscribe(sub)</a> ⇒ <code>MQTTClient</code></li> <li><a href="#module_Subscribe..EventEmitter">~EventEmitter</a></li> <li><a href="#module_Subscribe..MQTTClient">~MQTTClient</a></li></ul></li></ul> <p><a name="module_Subscribe..eventBus"></a></p> <h3 id="subscribe-eventbus-eventemitter"><a href="#subscribe-eventbus-eventemitter" class="header-anchor">#</a> Subscribe~eventBus : <code>EventEmitter</code></h3> <p><strong>Kind</strong>: inner constant of <a href="#module_Subscribe"><code>Subscribe</code></a><br> <a name="module_Subscribe..subscribe"></a></p> <h3 id="subscribe-subscribe-sub-⇒-mqttclient"><a href="#subscribe-subscribe-sub-⇒-mqttclient" class="header-anchor">#</a> Subscribe~subscribe(sub) ⇒ <code>MQTTClient</code></h3> <p>Create a subscription</p> <p>Send an event back onMessage</p> <p><strong>Kind</strong>: inner method of <a href="#module_Subscribe"><code>Subscribe</code></a><br> <strong>Emits</strong>: <code>event:eventName</code></p> <table><thead><tr><th>Param</th> <th>Type</th></tr></thead> <tbody><tr><td>sub</td> <td><code>object</code></td></tr></tbody></table> <p><strong>Properties</strong></p> <table><thead><tr><th>Name</th> <th>Type</th></tr></thead> <tbody><tr><td>sub.config</td> <td><code>object</code></td></tr> <tr><td>sub.eventName</td> <td><code>string</code></td></tr></tbody></table> <p><a name="module_Subscribe..EventEmitter"></a></p> <h3 id="subscribe-eventemitter"><a href="#subscribe-eventemitter" class="header-anchor">#</a> Subscribe~EventEmitter</h3> <p><strong>Kind</strong>: inner typedef of <a href="#module_Subscribe"><code>Subscribe</code></a><br> <a name="module_Subscribe..MQTTClient"></a></p> <h3 id="subscribe-mqttclient"><a href="#subscribe-mqttclient" class="header-anchor">#</a> Subscribe~MQTTClient</h3> <p><strong>Kind</strong>: inner typedef of <a href="#module_Subscribe"><code>Subscribe</code></a></p> <p><a name="readmemd"></a></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/entourage/server/" class="prev">
        Server
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/entourage/assets/js/app.460d8489.js" defer></script><script src="/entourage/assets/js/2.a00bb63a.js" defer></script><script src="/entourage/assets/js/6.8129d006.js" defer></script>
  </body>
</html>
